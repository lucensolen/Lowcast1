<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>LOWCAST // Chamber</title>

<style>
body{
 margin:0;background:#000;color:#e0e0e0;font-family:'Inter',sans-serif;
 display:flex;justify-content:center;align-items:center;height:100vh;
 opacity:0;animation:fadeIn 1.5s ease forwards;
 overflow:hidden;
}
@keyframes fadeIn{to{opacity:1;}}

/* --- RED CORE PULSE RESTORED FROM OLD CHAMBER --- */
.core{
 position:absolute;
 width:260px;height:260px;
 background:radial-gradient(circle,rgba(255,20,51,0.4)0%,transparent 60%);
 filter:blur(8px);
 animation:pulse 4s ease-in-out infinite;
 opacity:0.7;
}
@keyframes pulse{
 0%{transform:scale(0.9);opacity:0.5;}
 50%{transform:scale(1.1);opacity:0.9;}
 100%{transform:scale(0.9);opacity:0.5;}
}

.beam{
 position:absolute;width:2px;height:80vh;
 background:linear-gradient(transparent,rgba(255,255,255,0.7),transparent);
 opacity:0;animation:beamFade 1.8s ease forwards;
}
@keyframes beamFade{to{opacity:1;}}

.container{
 text-align:center;
 z-index:5;
 position:relative;
 letter-spacing:3px;
 opacity:0;
 transform:translateY(10px);
 animation:rise 1.5s ease forwards;
 animation-delay:0.5s;
}
@keyframes rise{to{opacity:1;transform:translateY(0);}}

/* TITLE — restored brightness + weight */
h1{
 font-size:2.4rem;
 letter-spacing:0.30rem;
 margin-bottom:8px;
 color:#f5f5f5;
}

/* SUBHEADERS — restored style from original */
.subtitle{
 font-size:0.85rem;
 opacity:0.55;
 letter-spacing:0.22rem;
 margin-bottom:10px;
 text-transform:uppercase;
}

.subline{
 font-size:0.80rem;
 opacity:0.45;
 letter-spacing:0.20rem;
 margin-bottom:15px;
 text-transform:uppercase;
}

/* Codewords stay from the new version */
.codewords{
 color:#ff1433;
 font-size:0.85rem;
 letter-spacing:0.28rem;
 margin-bottom:22px;
}

/* Callsign box */
.input-box{
 margin-top:10px;
}
.input-box input{
 padding:12px 16px;
 width:260px;
 background:#111;
 border:1px solid #444;
 color:#fff;
 font-size:1rem;
 letter-spacing:2px;
 text-align:center;
}

.submit-btn{
 margin-top:20px;
 padding:12px 32px;
 background:transparent;
 border:1px solid #fff;
 color:#fff;
 letter-spacing:0.25rem; /* ENTER spacing */
 cursor:pointer;
}
.submit-btn:hover{background:rgba(255,255,255,0.12);}

/* SUCCESS PULSE */
@keyframes redPulse {
    0% { opacity: 0.4; }
    50% { opacity: 1; }
    100% { opacity: 0.4; }
}
.success{
 display:none;
 color:#ff1433;
 font-size:1.3rem;
 margin-top:25px;
 letter-spacing:4px;
 animation:redPulse 2s infinite ease-in-out;
}

/* Saved Callsign */
.saved{
 color:#ff1433;
 font-size:1.2rem;
 letter-spacing:0.25rem;
 margin-top:18px;
 display:none;
}

/* Back button */
.back-btn{
 margin-top:30px;
 color:#fff;
 cursor:pointer;
 font-size:0.9rem;
 opacity:0.7;
}
.back-btn:hover{opacity:1;}
</style>
</head>

<body>

<!-- RED PULSE CORE -->
<div class="core"></div>

<div class="beam"></div>

<div class="container">

    <h1>YOU ARE INSIDE</h1>

    <div class="subtitle">LOWCAST // CHAMBER 0.3</div>
    <div class="subline">CYCLE 001</div>

    <div class="codewords">HEAVY · BASS · REAL</div>

    <!-- Saved callsign -->
    <div class="saved" id="savedCallsign"></div>

    <!-- Input -->
    <div class="input-box" id="inputBox">
        <input type="text" id="callsignInput" placeholder="Your signal name">
    </div>

    <button class="submit-btn" id="submitCallsign">E N T E R</button>

    <div class="success" id="successPulse">SIGNAL RECEIVED</div>

    <div class="back-btn" id="backHome">BACK TO GATE</div>
</div>

<script>
// --------------------------------------------------------
// NEW: record CHAMBER stage
// --------------------------------------------------------
localStorage.setItem("lowcast.stage","chamber");

// API ENDPOINT
const API_URL = "https://script.google.com/macros/s/AKfycbzKRWhjDbd5SbQ_2l8flri__AUZ1SkC8IW-sIqBBEjzu9rTd_NLGInFx7XXgxB6YRX2ig/exec";

// LOAD SAVED CALLSIGN IF EXISTS
const saved = localStorage.getItem("lowcast.callsign");
const savedBox = document.getElementById("savedCallsign");
const inputBox = document.getElementById("inputBox");

if (saved) {
    savedBox.textContent = saved;
    savedBox.style.display = "block";
    inputBox.style.display = "none";
    document.getElementById("submitCallsign").style.display = "none";
}

// SUBMIT CALLSIGN
document.getElementById("submitCallsign").addEventListener("click", () => {
    const raw = document.getElementById("callsignInput").value.trim();
    if(!raw){ return; }

    const callsign = raw.toUpperCase();

    fetch(API_URL, {
        method: "POST",
        mode: "no-cors",
        headers: { "Content-Type": "application/json" },
        body: JSON.stringify({
            email: "",
            phone: "",
            callsign: callsign,
            gate: "Chamber"
        })
    });

    localStorage.setItem("lowcast.callsign", callsign);

    savedBox.textContent = callsign;
    savedBox.style.display = "block";

    inputBox.style.display = "none";
    document.getElementById("submitCallsign").style.display = "none";

    document.getElementById("successPulse").style.display = "block";
});

// BACK
document.getElementById("backHome").addEventListener("click", () => {
    window.location.href = "gate2.html";
});
</script>

</body>
</html>  
